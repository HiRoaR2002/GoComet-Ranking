# ---------------------------------------------------------------------------
# New Relic Agent Configuration File
# ---------------------------------------------------------------------------

[newrelic]

# You must specify the license key associated with your New Relic account.
# This can be overridden by the NEW_RELIC_LICENSE_KEY environment variable.
license_key = 9d69f191eb1bd198809d4bf9652405f7FFFFNRAL

# Application name(s) that will appear in the New Relic UI.
app_name = GoComet Leaderboard API

# When enabled, the agent collects performance data about your application.
monitor_mode = true

# Sets the name of a file to log agent messages to.
log_file = stdout

# The Python Agent will log to STDOUT and stderr by default.
log_level = info

# High Security Mode enforces certain security settings that can't be overridden.
high_security = false

# The Python Agent will automatically detect and use the proxy settings.
# proxy_host = hostname
# proxy_port = 8080
# proxy_user = username
# proxy_pass = password

# Capture query parameter information from the request.
capture_params = true

# Transaction tracer traces long transactions.
transaction_tracer.enabled = true
transaction_tracer.transaction_threshold = 0.5
transaction_tracer.record_sql = obfuscated
transaction_tracer.stack_trace_threshold = 0.3
transaction_tracer.explain_enabled = true
transaction_tracer.explain_threshold = 0.5

# Error collector captures and reports exceptions.
error_collector.enabled = true
error_collector.ignore_errors = 

# Browser monitoring page load timing.
browser_monitoring.auto_instrument = true

# Thread profiler for production tuning.
thread_profiler.enabled = true

# Distributed tracing for microservices.
distributed_tracing.enabled = true

# Span events for APM and Distributed Tracing.
span_events.enabled = true

# Application log forwarding to New Relic Logs.
application_logging.enabled = true
application_logging.forwarding.enabled = true
application_logging.forwarding.max_samples_stored = 10000
application_logging.metrics.enabled = true
application_logging.local_decorating.enabled = true

# Custom parameters - Add these to track specific data
# [newrelic:custom-parameters]
# environment = production

# Database transaction tracer settings
datastore_tracer.database_name_reporting.enabled = true
datastore_tracer.instance_reporting.enabled = true

# Slow SQL traces
slow_sql.enabled = true

# Custom instrumentation for Redis
# This will track Redis operations
[newrelic:instrumentation-redis]
enabled = true

# Custom instrumentation for PostgreSQL
[newrelic:instrumentation-psycopg2]
enabled = true

# Custom instrumentation for asyncpg
[newrelic:instrumentation-asyncpg]
enabled = true
